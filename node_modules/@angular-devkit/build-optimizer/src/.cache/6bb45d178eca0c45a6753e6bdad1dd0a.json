{"remainingRequest":"/Users/ebalogun/Desktop/planner/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/Users/ebalogun/Desktop/planner/node_modules/ng-simple-slideshow/ng-simple-slideshow.es5.js","dependencies":[{"path":"/Users/ebalogun/Desktop/planner/node_modules/ng-simple-slideshow/ng-simple-slideshow.es5.js","mtime":1529689524462},{"path":"/Users/ebalogun/Desktop/planner/node_modules/cache-loader/dist/cjs.js","mtime":1529689488851},{"path":"/Users/ebalogun/Desktop/planner/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1529689454614}],"contextDependencies":[],"result":["import { Component, EventEmitter, Inject, Injectable, Input, NgModule, Output, PLATFORM_ID, Renderer2, ViewChild } from '@angular/core';\nimport { CommonModule, DOCUMENT, isPlatformServer } from '@angular/common';\nimport { isNullOrUndefined, isUndefined } from 'util';\nimport { BrowserTransferStateModule, DomSanitizer, TransferState, makeStateKey } from '@angular/platform-browser';\nvar SwipeService = /** @class */ /*@__PURE__*/ (function () {\n    function SwipeService() {\n    }\n    /**\n     * \\@description detect the direction of the swipe, and return a -1 or 1 if the duration is long enough\n     *              else return a 0 to do nothing\n     * @param {?} e\n     * @param {?} when\n     * @param {?=} debug\n     * @return {?}\n     */\n    SwipeService.prototype.swipe = function (e, when, debug) {\n        if (debug === true)\n            console.log(\"SwipeService::swipe(\" + e + \", \" + when + \")\");\n        var /** @type {?} */ coord = [e.changedTouches[0].pageX, e.changedTouches[0].pageY];\n        var /** @type {?} */ time = new Date().getTime();\n        if (when === 'start') {\n            this.swipeCoord = coord;\n            this.swipeTime = time;\n        }\n        else if (when === 'end') {\n            var /** @type {?} */ direction = [coord[0] - this.swipeCoord[0], coord[1] - this.swipeCoord[1]];\n            var /** @type {?} */ duration = time - this.swipeTime;\n            if (duration < 1000 // Short enough\n                && Math.abs(direction[1]) < Math.abs(direction[0]) // Horizontal enough\n                && Math.abs(direction[0]) > 30) {\n                return direction[0] < 0 ? 1 : -1;\n            }\n        }\n        return 0;\n    };\n    return SwipeService;\n}());\nvar FIRST_SLIDE_KEY = makeStateKey('firstSlide');\nvar SlideshowComponent = /** @class */ /*@__PURE__*/ (function () {\n    /**\n     * @param {?} swipeService\n     * @param {?} renderer\n     * @param {?} transferState\n     * @param {?} sanitizer\n     * @param {?} platform_id\n     * @param {?} document\n     */\n    function SlideshowComponent(swipeService, renderer, transferState, sanitizer, platform_id, document) {\n        this.swipeService = swipeService;\n        this.renderer = renderer;\n        this.transferState = transferState;\n        this.sanitizer = sanitizer;\n        this.platform_id = platform_id;\n        this.document = document;\n        this.slideIndex = 0;\n        this.slides = [];\n        this.initial = true;\n        this.imageUrls = [];\n        this.height = '100%';\n        this.showArrows = true;\n        this.disableSwiping = false;\n        this.autoPlay = false;\n        this.autoPlayInterval = 3333;\n        this.stopAutoPlayOnSlide = true;\n        this.autoPlayWaitForLazyLoad = false;\n        this.debug = false;\n        this.backgroundSize = 'cover';\n        this.backgroundPosition = 'center center';\n        this.backgroundRepeat = 'no-repeat';\n        this.showDots = false;\n        this.dotColor = '#FFF';\n        this.showCaptions = true;\n        this.captionColor = '#FFF';\n        this.captionBackground = 'rgba(0, 0, 0, .35)';\n        this.lazyLoad = false;\n        this.onSlideLeft = new EventEmitter();\n        this.onSlideRight = new EventEmitter();\n        this.onSwipeLeft = new EventEmitter();\n        this.onSwipeRight = new EventEmitter();\n    }\n    /**\n     * @return {?}\n     */\n    SlideshowComponent.prototype.ngDoCheck = function () {\n        if (this.debug === true)\n            console.log(\"ngOnChanges()\");\n        // if this is the first being called, create a copy of the input\n        if (this.initial === true)\n            this.urlCache = Array.from(this.imageUrls);\n        this.setSlides();\n        this.setStyles();\n        this.handleAutoPlay();\n    };\n    /**\n     * \\@description this is the function that should be called to make the slides change.\n     *              indexDirection to move back is -1, to move forward is 1, and to stay in place is 0.\n     *              0 is taken into account for failed swipes\n     * @param {?} indexDirection\n     * @param {?=} isSwipe\n     * @return {?}\n     */\n    SlideshowComponent.prototype.onSlide = function (indexDirection, isSwipe) {\n        if (this.debug === true)\n            console.log(\"onSlide(\" + indexDirection + \", \" + isSwipe + \")\");\n        this.handleAutoPlay(this.stopAutoPlayOnSlide);\n        this.slide(indexDirection, isSwipe);\n    };\n    /**\n     * \\@description Use the swipe service to detect swipe events from phone and tablets\n     * @param {?} e\n     * @param {?} when\n     * @return {?}\n     */\n    SlideshowComponent.prototype.onSwipe = function (e, when) {\n        if (this.disableSwiping === true)\n            return;\n        var /** @type {?} */ indexDirection = this.swipeService.swipe(e, when, this.debug === true);\n        // handle a failed swipe\n        if (indexDirection === 0)\n            return;\n        else\n            this.onSlide(indexDirection, true);\n    };\n    /**\n     * \\@description Redirect to current slide \"href\" if defined\n     * @param {?} e\n     * @return {?}\n     */\n    SlideshowComponent.prototype.onClick = function (e) {\n        e.preventDefault();\n        var /** @type {?} */ currentSlide = this.slides.length > 0 && this.slides[this.slideIndex];\n        if (currentSlide && !isNullOrUndefined(currentSlide.image.href)) {\n            this.document.location.href = currentSlide.image.href;\n        }\n    };\n    /**\n     * \\@description set the index to the desired index - 1 and simulate a right slide\n     * @param {?} index\n     * @return {?}\n     */\n    SlideshowComponent.prototype.goToSlide = function (index) {\n        if (this.debug === true)\n            console.log(\"goToSlide(\" + index + \")\");\n        var /** @type {?} */ beforeClickIndex = this.slideIndex;\n        this.slideIndex = index - 1;\n        this.setSlideIndex(1);\n        if (!this.slides[this.slideIndex].loaded)\n            this.loadRemainingSlides();\n        this.handleAutoPlay(this.stopAutoPlayOnSlide);\n        this.slideRight(beforeClickIndex);\n        this.slides[beforeClickIndex].selected = false;\n        this.slides[this.slideIndex].selected = true;\n    };\n    /**\n     * \\@description set the index to the desired index - 1 and simulate a right slide\n     * @param {?} index\n     * @return {?}\n     */\n    SlideshowComponent.prototype.getSlideStyle = function (index) {\n        if (this.debug === true)\n            console.log(\"getSlideStyle(\" + index + \")\");\n        var /** @type {?} */ slide = this.slides[index];\n        if (slide.loaded) {\n            return {\n                \"background-image\": 'url(' + slide.image.url + ')',\n                \"background-size\": this.backgroundSize,\n                \"background-position\": this.backgroundPosition,\n                \"background-repeat\": this.backgroundRepeat\n            };\n        }\n        else {\n            // doesn't compile correctly if returning an empty object, sooooo.....\n            return {\n                \"background-image\": undefined,\n                \"background-size\": undefined,\n                \"background-position\": undefined,\n                \"background-repeat\": undefined\n            };\n        }\n    };\n    /**\n     * \\@description Set the new slide index, then make the transition happen.\n     * @param {?} indexDirection\n     * @param {?=} isSwipe\n     * @return {?}\n     */\n    SlideshowComponent.prototype.slide = function (indexDirection, isSwipe) {\n        if (this.debug === true)\n            console.log(\"slide(\" + indexDirection + \", \" + isSwipe + \")\");\n        var /** @type {?} */ oldIndex = this.slideIndex;\n        this.setSlideIndex(indexDirection);\n        if (!this.slides[this.slideIndex].loaded)\n            this.loadRemainingSlides();\n        if (indexDirection === 1)\n            this.slideRight(oldIndex, isSwipe);\n        else\n            this.slideLeft(oldIndex, isSwipe);\n        this.slides[oldIndex].selected = false;\n        this.slides[this.slideIndex].selected = true;\n    };\n    /**\n     * \\@description This is just treating the url array like a circular list.\n     * @param {?} indexDirection\n     * @return {?}\n     */\n    SlideshowComponent.prototype.setSlideIndex = function (indexDirection) {\n        if (this.debug === true)\n            console.log(\"setSlideIndex(\" + this.slideIndex + \")\");\n        this.slideIndex += indexDirection;\n        if (this.slideIndex < 0)\n            this.slideIndex = this.slides.length - 1;\n        if (this.slideIndex >= this.slides.length)\n            this.slideIndex = 0;\n    };\n    /**\n     * \\@description This function handles the variables to move the CSS classes around accordingly.\n     *              In order to correctly handle animations, the new slide as well as the slides to\n     *              the left and right are assigned classes.\n     * @param {?} oldIndex\n     * @param {?=} isSwipe\n     * @return {?}\n     */\n    SlideshowComponent.prototype.slideLeft = function (oldIndex, isSwipe) {\n        if (this.debug === true)\n            console.log(\"slideLeft(\" + oldIndex + \", \" + isSwipe + \")\");\n        if (isSwipe === true)\n            this.onSwipeLeft.emit(this.slideIndex);\n        else\n            this.onSlideLeft.emit(this.slideIndex);\n        this.slides[this.getLeftSideIndex(oldIndex)].leftSide = false;\n        this.slides[oldIndex].leftSide = true;\n        this.slides[oldIndex].action = 'slideOutLeft';\n        this.slides[this.slideIndex].rightSide = false;\n        this.slides[this.getRightSideIndex()].rightSide = true;\n        this.slides[this.slideIndex].action = 'slideInRight';\n    };\n    /**\n     * \\@description This function handles the variables to move the CSS classes around accordingly.\n     *              In order to correctly handle animations, the new slide as well as the slides to\n     *              the left and right are assigned classes.\n     * @param {?} oldIndex\n     * @param {?=} isSwipe\n     * @return {?}\n     */\n    SlideshowComponent.prototype.slideRight = function (oldIndex, isSwipe) {\n        if (this.debug === true)\n            console.log(\"slideRight(\" + oldIndex + \", \" + isSwipe + \")\");\n        if (isSwipe === true)\n            this.onSwipeRight.emit(this.slideIndex);\n        else\n            this.onSlideRight.emit(this.slideIndex);\n        this.slides[this.getRightSideIndex(oldIndex)].rightSide = false;\n        this.slides[oldIndex].rightSide = true;\n        this.slides[oldIndex].action = 'slideOutRight';\n        this.slides[this.slideIndex].leftSide = false;\n        this.slides[this.getLeftSideIndex()].leftSide = true;\n        this.slides[this.slideIndex].action = 'slideInLeft';\n    };\n    /**\n     * \\@description Check to make sure slide images have been set or haven't changed\n     * @return {?}\n     */\n    SlideshowComponent.prototype.setSlides = function () {\n        if (!isNullOrUndefined(this.imageUrls)) {\n            if (this.debug === true)\n                console.log(\"setSlides()\");\n            if (this.checkCache() || this.initial === true) {\n                if (this.debug === true) {\n                    console.log(\"this.checkCache() || this.initial === true\");\n                    console.log(\"this.initial: \" + this.initial);\n                    console.log(\"this.urlCache: \" + this.urlCache);\n                    console.log(\"this.imageUrls: \" + this.imageUrls);\n                }\n                this.initial = false;\n                this.urlCache = Array.from(this.imageUrls);\n                this.slides = [];\n                if (this.lazyLoad === true) {\n                    this.buildLazyLoadSlideArray();\n                }\n                else {\n                    this.buildSlideArray();\n                }\n            }\n        }\n    };\n    /**\n     * \\@description create the slides without background urls, which will be added in\n     *              for the \"lazy load,\" then load only the first slide\n     * @return {?}\n     */\n    SlideshowComponent.prototype.buildLazyLoadSlideArray = function () {\n        if (this.debug === true)\n            console.log(\"buildLazyLoadSlideArray()\");\n        for (var _i = 0, _a = this.imageUrls; _i < _a.length; _i++) {\n            var image = _a[_i];\n            this.slides.push({\n                image: (typeof image === 'string' ? { url: null } : { url: null, href: image.href || '' }),\n                action: '',\n                leftSide: false,\n                rightSide: false,\n                selected: false,\n                loaded: false\n            });\n        }\n        this.slides[this.slideIndex].selected = true;\n        this.loadFirstSlide();\n    };\n    /**\n     * \\@description create the slides with background urls all at once\n     * @return {?}\n     */\n    SlideshowComponent.prototype.buildSlideArray = function () {\n        if (this.debug === true)\n            console.log(\"buildSlideArray()\");\n        for (var _i = 0, _a = this.imageUrls; _i < _a.length; _i++) {\n            var image = _a[_i];\n            this.slides.push({\n                image: (typeof image === 'string' ? { url: image } : image),\n                action: '',\n                leftSide: false,\n                rightSide: false,\n                selected: false,\n                loaded: true\n            });\n        }\n        this.slides[this.slideIndex].selected = true;\n    };\n    /**\n     * \\@description load the first slide image if lazy loading\n     *              this takes server side and browser side into account\n     * @return {?}\n     */\n    SlideshowComponent.prototype.loadFirstSlide = function () {\n        var _this = this;\n        if (this.debug === true)\n            console.log(\"loadFirstSlide()\");\n        var /** @type {?} */ tmpIndex = this.slideIndex;\n        var /** @type {?} */ tmpImage = this.imageUrls[tmpIndex];\n        // if server side, we don't need to worry about the rest of the slides\n        if (isPlatformServer(this.platform_id)) {\n            this.slides[tmpIndex].image = (typeof tmpImage === 'string' ? { url: tmpImage } : tmpImage);\n            this.slides[tmpIndex].loaded = true;\n            this.transferState.set(FIRST_SLIDE_KEY, this.slides[tmpIndex]);\n        }\n        else {\n            var /** @type {?} */ firstSlideFromTransferState = this.transferState.get(FIRST_SLIDE_KEY, /** @type {?} */ (null));\n            // if the first slide didn't finish loading on the server side, we need to load it\n            if (firstSlideFromTransferState === null) {\n                var /** @type {?} */ loadImage = new Image();\n                loadImage.src = (typeof tmpImage === 'string' ? tmpImage : tmpImage.url);\n                loadImage.addEventListener('load', function () {\n                    _this.slides[tmpIndex].image = (typeof tmpImage === 'string' ? { url: tmpImage } : tmpImage);\n                    _this.slides[tmpIndex].loaded = true;\n                });\n            }\n            else {\n                this.slides[tmpIndex] = firstSlideFromTransferState;\n                this.transferState.remove(FIRST_SLIDE_KEY);\n            }\n        }\n    };\n    /**\n     * \\@description if lazy loading in browser, start loading remaining slides\n     * \\@todo: figure out how to not show the spinner if images are loading fast enough\n     * @return {?}\n     */\n    SlideshowComponent.prototype.loadRemainingSlides = function () {\n        var _this = this;\n        if (this.debug === true)\n            console.log(\"loadRemainingSlides()\");\n        var _loop_1 = function (i) {\n            if (!this_1.slides[i].loaded) {\n                new Promise(function (resolve) {\n                    var /** @type {?} */ tmpImage = _this.imageUrls[i];\n                    var /** @type {?} */ loadImage = new Image();\n                    loadImage.addEventListener('load', function () {\n                        _this.slides[i].image = (typeof tmpImage === 'string' ? { url: tmpImage } : tmpImage);\n                        _this.slides[i].loaded = true;\n                        resolve();\n                    });\n                    loadImage.src = (typeof tmpImage === 'string' ? tmpImage : tmpImage.url);\n                });\n            }\n        };\n        var this_1 = this;\n        for (var /** @type {?} */ i = 0; i < this.slides.length; i++) {\n            _loop_1(/** @type {?} */ i);\n        }\n    };\n    /**\n     * \\@description Start or stop autoPlay, don't do it at all server side\n     * @param {?=} stopAutoPlay\n     * @return {?}\n     */\n    SlideshowComponent.prototype.handleAutoPlay = function (stopAutoPlay) {\n        var _this = this;\n        if (isPlatformServer(this.platform_id))\n            return;\n        if (stopAutoPlay === true || this.autoPlay === false) {\n            if (this.debug === true)\n                console.log(\"stop autoPlay\");\n            if (!isNullOrUndefined(this.autoplayIntervalId))\n                clearInterval(this.autoplayIntervalId);\n        }\n        else if (isNullOrUndefined(this.autoplayIntervalId)) {\n            if (this.debug === true)\n                console.log(\"start autoPlay\");\n            this.autoplayIntervalId = setInterval(function () {\n                if (_this.debug === true)\n                    console.log(\"autoPlay slide event\");\n                if (!_this.autoPlayWaitForLazyLoad || (_this.autoPlayWaitForLazyLoad && _this.slides[_this.slideIndex].loaded))\n                    _this.slide(1);\n            }, this.autoPlayInterval);\n        }\n    };\n    /**\n     * \\@description Keep the styles up to date with the input\n     * @return {?}\n     */\n    SlideshowComponent.prototype.setStyles = function () {\n        if (this.debug === true)\n            console.log(\"setStyles()\");\n        if (!isNullOrUndefined(this.height))\n            this.renderer.setStyle(this.container.nativeElement, 'height', this.height);\n        if (!isNullOrUndefined(this.minHeight))\n            this.renderer.setStyle(this.container.nativeElement, 'min-height', this.minHeight);\n        if (!isNullOrUndefined(this.arrowSize)) {\n            this.renderer.setStyle(this.prevArrow.nativeElement, 'height', this.arrowSize);\n            this.renderer.setStyle(this.prevArrow.nativeElement, 'width', this.arrowSize);\n            this.renderer.setStyle(this.nextArrow.nativeElement, 'height', this.arrowSize);\n            this.renderer.setStyle(this.nextArrow.nativeElement, 'width', this.arrowSize);\n        }\n    };\n    /**\n     * \\@description compare image array to the cache, returns false if no changes\n     * @return {?}\n     */\n    SlideshowComponent.prototype.checkCache = function () {\n        var _this = this;\n        if (this.debug === true)\n            console.log(\"checkCache()\");\n        return !(this.urlCache.length === this.imageUrls.length && this.urlCache.every(function (cacheElement, i) { return cacheElement === _this.imageUrls[i]; }));\n    };\n    /**\n     * \\@description get the index for the slide to the left of the new slide\n     * @param {?=} i\n     * @return {?}\n     */\n    SlideshowComponent.prototype.getLeftSideIndex = function (i) {\n        if (isUndefined(i))\n            i = this.slideIndex;\n        if (--i < 0)\n            i = this.slides.length - 1;\n        return i;\n    };\n    /**\n     * \\@description get the index for the slide to the right of the new slide\n     * @param {?=} i\n     * @return {?}\n     */\n    SlideshowComponent.prototype.getRightSideIndex = function (i) {\n        if (isUndefined(i))\n            i = this.slideIndex;\n        if (++i >= this.slides.length)\n            i = 0;\n        return i;\n    };\n    return SlideshowComponent;\n}());\nvar SlideshowModule = /** @class */ /*@__PURE__*/ (function () {\n    function SlideshowModule() {\n    }\n    return SlideshowModule;\n}());\n/**\n * Generated bundle index. Do not edit.\n */\nexport { SlideshowModule, SlideshowComponent as ɵa, SwipeService as ɵb };\n//# sourceMappingURL=ng-simple-slideshow.es5.js.map\n",null]}